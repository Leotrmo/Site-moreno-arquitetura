/* ========= TOKENS ========= */
:root {
  --bg:#f7f8f7;
  --paper:#FFFFFF;
  --text:#101110;
  --muted:#5f6761;
  --line:#E5E7E6;

  /* Paleta */
  --green:#4E6A4E;      /* Araucária */
  --terra:#C46B41;      /* Terracota (acento único) */
  --sky:#5DA6FF;        /* Azul secundário */
  --forest:#2F4F43;

  --accent:var(--terra);
  --radius:14px;
  --maxw:1180px;
  --pad:clamp(16px,4vw,32px);
}

/* ========= BASE ========= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  background:var(--bg); color:var(--text);
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  line-height:1.6; -webkit-font-smoothing:antialiased
}
img{max-width:100%; display:block}
a{color:inherit; text-decoration:none}
.wrap{max-width:var(--maxw); margin:0 auto; padding:0 var(--pad)}
.narrow{max-width:820px}
.muted{color:var(--muted)}

/* Acessibilidade */
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{left:16px;top:16px;width:auto;height:auto;background:#fff;
  border:2px solid var(--text);padding:8px 10px;z-index:999}

/* ========= HEADER ========= */
.hdr{position:sticky; top:0; z-index:20;
  background:rgba(255,255,255,.78);
  backdrop-filter:saturate(120%) blur(8px);
  border-bottom:1px solid var(--line)
}
.bar{display:flex; justify-content:space-between; align-items:center; padding:14px 0}
.brand{
  font-family:'Space Grotesk',sans-serif;
  font-weight:700;
  letter-spacing:.06em;                 /* refinado */
  text-transform:uppercase;
  font-size:clamp(16px,2.2vw,18px);
}
nav a{
  margin-left:24px; position:relative; font-weight:600;
  line-height:1; padding:6px 0;        /* área de toque melhor */
}
nav a::after{content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px;
  background:var(--accent); transform:scaleX(0); transform-origin:left;
  transition:transform .25s ease}
nav a:hover::after, nav a:focus-visible::after{transform:scaleX(1)}
nav a.is-active{color:var(--accent)}

/* ========= HERO (manifesto) ========= */
.hero{
  min-height:68svh; display:grid; place-items:center; text-align:center;
  padding:40px 0 56px;                 /* + respiro inferior */
  position:relative; overflow:hidden
}
.hero::before{
  content:""; position:absolute; inset:0; z-index:-1;
  background:
    radial-gradient(1100px 620px at 12% 16%, rgba(93,166,255,.12), transparent 60%),
    radial-gradient(1000px 620px at 88% 34%, rgba(196,107,65,.10), transparent 62%),
    linear-gradient(180deg,#fff, #f4f6f4);
}
.hero::after{
  content:""; position:absolute; inset:0; z-index:-1;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220' viewBox='0 0 220 220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0 .04 0'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  mix-blend-mode:multiply; opacity:.25;
}
.headline{
  font-family:'Space Grotesk',sans-serif;
  font-weight:600; line-height:1.06; letter-spacing:-.01em;
  font-size:clamp(30px,7.2vw,82px);
  margin:0 auto 14px;
  color:var(--forest);
  max-width:18ch;                      /* controla largura */
}
.headline b{color:var(--accent)}
.lead{
  color:color-mix(in oklab, var(--text) 55%, var(--muted)); /* mais contraste */
  font-size:clamp(16px,2.6vw,20px);
  margin:.5rem auto 1.4rem;
  max-width:46rem;                     /* evita linhas longas */
}

/* ========= PILARES ========= */
.trio{display:grid; gap:16px; grid-template-columns:repeat(3,1fr); margin:34px 0 46px}
@media (max-width:900px){.trio{grid-template-columns:1fr}}
.pill{border:1px solid var(--line); background:var(--paper);
  border-radius:var(--radius); padding:18px; position:relative; overflow:hidden}
.pill::after{content:""; position:absolute; inset:auto 0 0 0; height:6px; background:var(--accent)}
.pill h3{font-family:'Space Grotesk',sans-serif; margin:.2rem 0 .4rem}

/* ========= SEÇÕES / TÍTULOS ========= */
.section{padding:44px 0}
.h1{font-family:'Space Grotesk',sans-serif; font-size:clamp(26px,4.6vw,40px); margin:0 0 14px}
.h2{font-family:'Space Grotesk',sans-serif; font-size:clamp(22px,3.4vw,28px); margin:18px 0 8px}

/* ========= LISTAS, LINKS ========= */
.list{padding-left:18px}
.list li{margin:.3rem 0}
.link{border-bottom:1px solid var(--accent)}

/* ========= GRID PROJETOS (listagem padrão) ========= */
.grid{display:grid; gap:16px; grid-template-columns:repeat(3,1fr)}
@media (max-width:960px){.grid{grid-template-columns:1fr 1fr}}
@media (max-width:560px){.grid{grid-template-columns:1fr}}
.card{background:var(--paper);
  border:1px solid color-mix(in oklab, var(--accent) 35%, var(--line));
  border-radius:var(--radius); overflow:hidden; position:relative}
.media{aspect-ratio:4/3; overflow:hidden}
.media img{width:100%; height:100%; object-fit:cover; transform:scale(1.02);
  transition:transform .6s cubic-bezier(.2,.6,.2,1)}
.card:hover .media img{transform:scale(1.06)}
.meta{padding:12px 14px}
.meta h3{margin:.2rem 0; font-size:18px}
.meta p{margin:0; color:var(--muted); font-size:14px}

/* ========= BOTÕES (micro-interações refinadas) ========= */
.btn{
  display:inline-block;
  padding:10px 16px;
  border-radius:999px;
  text-decoration:none;
  border:1px solid var(--forest);
  color:var(--forest);
  background:#fff;
  transition:
    transform .16s ease,
    background .16s ease,
    color .16s ease,
    box-shadow .16s ease,
    border-color .16s ease;
  will-change: transform;
}
.btn:hover,.btn:focus-visible{
  transform:translateY(-2px);
  background:var(--forest);
  color:#fff;
  box-shadow:0 6px 14px rgba(0,0,0,.06);
  outline:none;
}
.btn:active{
  transform:translateY(-1px) scale(.99);
  box-shadow:0 3px 8px rgba(0,0,0,.06);
}
.btn.ghost{border-color:var(--accent); color:var(--accent); background:transparent}
.btn.ghost:hover,.btn.ghost:focus-visible{background:var(--accent); color:#fff}
.btn.sky{border-color:var(--sky); color:var(--sky); background:transparent}
.btn.sky:hover,.btn.sky:focus-visible{background:var(--sky); color:#0F1211}

/* ========= CONTATO ========= */
.contact{display:flex; gap:12px; flex-wrap:wrap; align-items:center;
  justify-content:space-between; border:1px solid var(--line);
  border-radius:var(--radius); padding:16px; background:var(--paper)}
.cta-wrap{display:flex; gap:8px; flex-wrap:wrap}

/* ========= FORM ========= */
.form{display:grid; gap:12px; border:1px solid var(--line);
  border-radius:var(--radius); padding:16px; background:#fff}
.field{display:grid; gap:6px}
.field input,.field textarea{
  border:1px solid var(--line); border-radius:10px; padding:10px 12px; font:inherit; background:#fff}
.field input:focus,.field textarea:focus{
  outline:2px solid color-mix(in oklab, var(--accent) 40%, white)}

/* ========= MAP PLACEHOLDER ========= */
.map-placeholder{display:grid; place-items:center; height:220px;
  border:1px dashed var(--line); border-radius:var(--radius); color:var(--muted);
  background:linear-gradient(180deg,#fafbfa,#f1f3f1)}

/* ========= RODAPÉ ========= */
.ftr{margin-top:28px; padding:18px 0; color:var(--muted);
  border-top:1px solid var(--line); text-align:center}

/* ========= REVEAL ========= */
.reveal{opacity:0; transform:translateY(22px)}
.reveal.in{opacity:1; transform:none; transition:opacity .6s ease, transform .6s ease}

/* ========= PRELOADER ========= */
html.preload *{transition:none !important}
.preloader{
  position:fixed; inset:0; z-index:999;
  background:
    radial-gradient(1000px 600px at 20% 20%, rgba(93,166,255,.10), transparent 60%),
    radial-gradient(900px 540px at 80% 30%, rgba(196,107,65,.08), transparent 60%),
    #f7f8f7;
  opacity:1; transition:opacity .4s ease}
.preloader--hide{opacity:0}
body.is-loaded{opacity:1}

/* ========= MOBILE REFINES ========= */
@media (max-width: 480px){
  .hero{ padding:44px 0 72px; }    /* mais espaço abaixo dos CTAs */
  .ftr{ margin-top:36px; }
}

/* ========= FOCUS A11Y (opcional bonito) ========= */
:focus-visible{
  outline:2px solid color-mix(in oklab, var(--accent) 75%, white);
  outline-offset:2px; border-radius:8px;
}

/* =========================================================
   B L O C O   D E   P R O J E T O S   D E T A L H A D O S
   ========================================================= */

/* Grid alternativo de cards (projetos.html) */
.grid-cards{
  display:grid; gap:1.5rem;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}
.grid-cards .card{
  border:1px solid color-mix(in oklab, var(--accent) 22%, var(--line));
  border-radius:12px; overflow:hidden;
  background:var(--paper);
  backdrop-filter:saturate(140%) blur(6px);
}
.card-figure img{ width:100%; display:block; aspect-ratio:4/3; object-fit:cover }
.card-body{ padding:1rem 1.1rem }
.card-title{ font-size:1.1rem; line-height:1.2; margin:0 0 .25rem; font-family:'Space Grotesk',sans-serif }

/* Página de projeto */
.breadcrumb{
  max-width:1100px; margin:1rem auto; padding:0 1rem;
  opacity:.8; font-size:.9rem;
}
.breadcrumb a{ color:inherit }
.breadcrumb a:hover{ color:var(--accent) }

.hero-projeto{ position:relative; max-width:1200px; margin:0 auto }
.hero-projeto img{ width:100%; height:auto; display:block; border-radius:18px }
.hero-caption{ position:relative; margin:.8rem 0 0; color:var(--muted) }

.bloco{ max-width:1100px; margin:2rem auto; padding:0 1rem }
.bloco p{ margin:0 0 1rem }

.ficha-grid{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:.75rem 1rem;
}
.ficha-grid dt{ font-weight:600; opacity:.8 }
.ficha-grid dd{ margin:0 }

.grid-galeria{
  display:grid; gap:1rem; grid-template-columns:repeat(12, 1fr);
}
.grid-galeria figure{ grid-column: span 6 }
.grid-galeria img{ width:100%; border-radius:12px; display:block }

@media (max-width:700px){
  .grid-galeria figure{ grid-column: span 12 }
}

/* Botões alternativos compatíveis */
.btn-ghost{ display:inline-block; padding:.7rem 1rem; border-radius:10px; text-decoration:none; opacity:.9 }
.btn-ghost:hover,.btn-ghost:focus-visible{ opacity:1 }
.btn{ border:1px solid currentColor } /* mantém compatibilidade para .btn padrão */

/* ========= DARK THEME ========= */
body.dark{
  --bg:#0F1211;
  --paper:#121715;
  --text:#EEF1EF;
  --muted:#A7B1AB;
  --line:#26302B;

  --green:#78A081;
  --terra:#D07C57;
  --sky:#78B2FF;
  --forest:#DCE6E1;

  --accent:var(--terra);
}

/* Header no dark */
body.dark .hdr{
  background:rgba(18,23,21,.72);
  backdrop-filter:saturate(120%) blur(8px);
  border-bottom:1px solid var(--line);
}

/* Hero dark */
body.dark .hero::before{
  background:
    radial-gradient(1100px 620px at 12% 16%, rgba(120,178,255,.12), transparent 60%),
    radial-gradient(1000px 620px at 88% 34%, rgba(208,124,87,.10), transparent 62%),
    linear-gradient(180deg,#0F1211, #141816);
}
body.dark .hero::after{ opacity:.18 }
body.dark .headline{ color:#E7EFEC }
body.dark .headline b{ color:var(--accent) }

/* Cards/listas/forms/contato dark */
body.dark .card,
body.dark .pill,
body.dark .form,
body.dark .contact{ background:var(--paper); border-color:var(--line) }

/* Página de projeto — dark */
body.dark .grid-cards .card{ border-color: color-mix(in oklab, var(--accent) 25%, var(--line)) }
body.dark .hero-projeto img{ box-shadow: 0 8px 24px rgba(0,0,0,.35) }
body.dark .grid-galeria img{ box-shadow: 0 6px 18px rgba(0,0,0,.28) }

/* Map placeholder dark */
body.dark .map-placeholder{
  background:linear-gradient(180deg,#161A18,#0F1211);
  border-color:var(--line); color:var(--muted);
}

/* Botões dark */
body.dark .btn{
  border-color:var(--forest);
  color:var(--text);
  background:transparent;
}
body.dark .btn:hover,
body.dark .btn:focus-visible{
  background:var(--text); color:#0F1211;
}
body.dark .btn.ghost{ border-color:var(--accent); color:var(--accent) }
body.dark .btn.ghost:hover,
body.dark .btn.ghost:focus-visible{ background:var(--accent); color:#0F1211 }
body.dark .btn.sky{ border-color:var(--sky); color:var(--sky) }
body.dark .btn.sky:hover,
body.dark .btn.sky:focus-visible{ background:var(--sky); color:#0F1211 }

/* Preloader dark */
body.dark .preloader{
  background:
    radial-gradient(1000px 600px at 20% 20%, rgba(120,178,255,.12), transparent 60%),
    radial-gradient(900px 540px at 80% 30%, rgba(208,124,87,.10), transparent 60%),
    #0F1211;
}