/* ========= TOKENS ========= */
:root {
  --bg:#f7f8f7;
  --paper:#FFFFFF;
  --text:#101110;
  --muted:#5f6761;
  --line:#E5E7E6;

  /* Paleta */
  --green:#4E6A4E;      /* Araucária */
  --terra:#C46B41;      /* Terracota */
  --sky:#5DA6FF;        /* Azul */
  --forest:#2F4F43;

  --accent:var(--terra);
  --radius:14px;
  --maxw:1180px;
  --pad:clamp(16px,4vw,32px);
}

body.dark{
  --bg:#0f1210;
  --paper:#0f1412;
  --text:#eef1ed;
  --muted:#9aa69b;
  --line:#1f2521;
  --accent:color-mix(in oklab, var(--terra) 80%, #ffb89c);
  color-scheme:dark;
}

/* ========= BASE ========= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  background:var(--bg); color:var(--text);
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  line-height:1.6; -webkit-font-smoothing:antialiased
}
a:hover{color:inherit}
img{max-width:100%; display:block}
a{color:inherit; text-decoration:none}
.wrap{max-width:var(--maxw); margin:0 auto; padding:0 var(--pad)}
.narrow{max-width:820px}
.muted{color:var(--muted)}
.link{color:var(--accent); text-decoration:underline; text-decoration-thickness:2px; text-decoration-color:color-mix(in oklab, var(--accent) 40%, transparent);}
.link:hover,.link:focus-visible{color:color-mix(in oklab, var(--accent) 80%, var(--forest)); text-decoration-color:currentColor}
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{left:16px;top:16px;width:auto;height:auto;background:#fff;border:2px solid var(--text);padding:8px 10px;z-index:999}
::selection{background:color-mix(in oklab, var(--accent) 30%, transparent)}

:focus-visible{outline:2px solid color-mix(in oklab, var(--accent) 60%, var(--sky)); outline-offset:2px; border-radius:6px}
button:focus-visible,a:focus-visible{border-radius:10px}

/* ========= HEADER ========= */
.hdr{position:sticky; top:0; z-index:20; background:color-mix(in oklab, var(--paper) 88%, transparent);
  backdrop-filter:saturate(120%) blur(8px); border-bottom:1px solid var(--line); box-shadow:0 12px 34px rgba(0,0,0,.04)}
.bar{display:flex; justify-content:space-between; align-items:center; padding:14px 0}
.brand{
  font-family:'Space Grotesk',sans-serif; font-weight:700; letter-spacing:.06em;
  text-transform:uppercase; font-size:clamp(16px,2.2vw,18px);
}
nav a{ margin-left:24px; position:relative; font-weight:600; line-height:1; padding:6px 0 }
nav a::after{content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px;
  background:var(--accent); transform:scaleX(0); transform-origin:left; transition:transform .25s ease}
nav a:hover::after, nav a:focus-visible::after{transform:scaleX(1)}
nav a.is-active{color:var(--accent)}
header nav{display:flex; align-items:center; gap:18px; flex-wrap:wrap; justify-content:flex-end}

.theme-btn{
  margin-left:18px; width:38px; height:38px; border-radius:12px; border:1px solid var(--line);
  background:color-mix(in oklab, var(--paper) 82%, var(--bg)); cursor:pointer; font-size:16px;
  transition:transform .16s ease, border-color .16s ease, box-shadow .16s ease;
}
.theme-btn:hover,.theme-btn:focus-visible{transform:translateY(-1px); border-color:color-mix(in oklab, var(--accent) 50%, var(--line)); box-shadow:0 6px 18px rgba(0,0,0,.06);}

@media (max-width: 430px){
  header nav{justify-content:flex-start; overflow-x:auto; -webkit-overflow-scrolling:touch; gap:14px; padding-bottom:4px;
    mask-image: linear-gradient(90deg, transparent, #000 10%, #000 90%, transparent);}
  nav a{margin-left:0; white-space:nowrap; padding:8px 2px;}
  .theme-btn{width:34px; height:34px; font-size:16px; margin-left:12px;}
}

/* ========= HERO ========= */
.hero{
  min-height:68svh; display:grid; place-items:center;
  padding:40px 0 56px; position:relative; overflow:hidden
}
.hero::before{
  content:""; position:absolute; inset:0; z-index:-1;
  background:
    radial-gradient(1100px 620px at 12% 16%, rgba(93,166,255,.12), transparent 60%),
    radial-gradient(1000px 620px at 88% 34%, rgba(196,107,65,.10), transparent 62%),
    linear-gradient(180deg,#fff, #f4f6f4);
}
.hero-body{
  display:grid; gap:12px; text-align:center;
  justify-items:center; width:min(1080px, 100%);
  padding:12px 14px 0; border-radius:18px;
  background:rgba(255,255,255,.52);
  box-shadow:0 28px 80px rgba(16,17,16,.06);
  border:1px solid color-mix(in oklab, var(--accent) 14%, var(--line));
  backdrop-filter:blur(10px);
}
.eyebrow{
  display:inline-flex; align-items:center; gap:10px;
  padding:8px 14px; border-radius:999px; text-transform:uppercase;
  letter-spacing:.08em; font-size:12px; color:var(--forest);
  background:linear-gradient(135deg, rgba(93,166,255,.14), rgba(196,107,65,.16));
  border:1px solid color-mix(in oklab, var(--accent) 28%, var(--line));
  box-shadow:0 10px 30px rgba(0,0,0,.06);
}
.eyebrow::before{
  content:""; display:block; width:18px; height:2px; border-radius:999px;
  background:color-mix(in oklab, var(--accent) 72%, white);
}
.hero-facts{
  width:100%; display:grid; gap:10px; margin:2px auto 2px;
  grid-template-columns:repeat(auto-fit, minmax(240px,1fr));
}
.fact{
  display:flex; gap:10px; align-items:flex-start;
  padding:12px 14px; border-radius:14px; border:1px solid var(--line);
  background:color-mix(in oklab, white 80%, var(--bg));
  box-shadow:0 12px 28px rgba(16,17,16,.06);
}
.pulse{
  width:12px; height:12px; border-radius:50%; margin-top:4px;
  background:color-mix(in oklab, var(--accent) 78%, var(--sky));
  box-shadow:0 0 0 0 color-mix(in oklab, var(--accent) 35%, transparent);
  animation:pulse 2.6s ease infinite;
}
.fact-title{ font-weight:700; font-family:'Space Grotesk',sans-serif; letter-spacing:-.01em; }
.fact-desc{ color:var(--muted); font-size:.95rem; line-height:1.4; }
.cta-row{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:2px; }
@keyframes pulse{
  0%{ box-shadow:0 0 0 0 color-mix(in oklab, var(--accent) 35%, transparent); }
  70%{ box-shadow:0 0 0 12px rgba(0,0,0,0); }
  100%{ box-shadow:0 0 0 0 rgba(0,0,0,0); }
}
@media (min-width:900px){
  .hero-body{ text-align:left; justify-items:start; padding:20px 26px 10px }
  .cta-row{ justify-content:flex-start }
}
.hero::after{
  content:""; position:absolute; inset:0; z-index:-1;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220' viewBox='0 0 220 220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0 .04 0'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  mix-blend-mode:multiply; opacity:.25;
}
.headline{
  font-family:'Space Grotesk',sans-serif; font-weight:600; line-height:1.06;
  letter-spacing:-.01em; font-size:clamp(30px,7.2vw,82px);
  margin:0 auto 14px; color:var(--forest); max-width:18ch;
}
.headline b{color:var(--accent)}
.lead{
  color:color-mix(in oklab, var(--text) 55%, var(--muted));
  font-size:clamp(16px,2.6vw,20px); margin:.5rem auto 1.4rem; max-width:46rem;
}

/* ========= PAGE HERO ========= */
.page-hero{position:relative; padding:18px 18px 20px; border-radius:18px; overflow:hidden;
  border:1px solid color-mix(in oklab, var(--accent) 16%, var(--line));
  background:linear-gradient(150deg, color-mix(in oklab, var(--accent) 6%, var(--paper)) 0%, var(--paper) 70%);
  box-shadow:0 18px 60px rgba(16,17,16,.05); margin:14px 0 28px; display:grid; gap:12px;
}
.page-hero::after{content:""; position:absolute; inset:-80% -30% 0 auto; background:radial-gradient(460px 320px at 40% 0%, color-mix(in oklab, var(--sky) 12%, transparent), transparent 60%); opacity:.7; pointer-events:none;}
.kicker{display:inline-flex; align-items:center; gap:10px; font-size:12px; letter-spacing:.08em; text-transform:uppercase; color:var(--muted); font-weight:700;}
.kicker::before{content:""; width:32px; height:2px; background:color-mix(in oklab, var(--accent) 70%, var(--forest)); border-radius:999px; opacity:.9;}
.meta-grid{display:grid; gap:10px; grid-template-columns:repeat(auto-fit, minmax(220px,1fr));}
.mini-pill{position:relative; border:1px solid color-mix(in oklab, var(--accent) 18%, var(--line));
  background:color-mix(in oklab, var(--paper) 80%, var(--bg)); border-radius:14px; padding:14px 16px;
  box-shadow:0 10px 26px rgba(16,17,16,.05); font-weight:700; color:var(--forest);
}
.mini-pill span{display:block; color:var(--muted); font-weight:600; font-size:.97rem; margin-top:4px}

.crumb{max-width:var(--maxw); margin:18px auto 6px; padding:0 var(--pad); color:var(--muted); font-size:.95rem; display:flex; gap:10px; align-items:center; flex-wrap:wrap;}
.crumb a{color:inherit; text-decoration:underline; text-decoration-thickness:1.5px; text-decoration-color:color-mix(in oklab, var(--accent) 40%, transparent);}
.crumb a:hover{color:color-mix(in oklab, var(--accent) 80%, var(--forest));}

.list{padding-left:1.2rem; margin:0 0 1rem; display:grid; gap:8px}
.list li{padding-left:.1rem}

/* ========= PILARES ========= */
.trio{display:grid; gap:16px; grid-template-columns:repeat(3,1fr); margin:34px 0 46px}
@media (max-width:900px){.trio{grid-template-columns:1fr}}
.pill{border:1px solid var(--line); background:var(--paper);
  border-radius:var(--radius); padding:18px; position:relative; overflow:hidden;
  box-shadow:0 16px 36px rgba(16,17,16,.06);
}
.pill::before{content:""; position:absolute; inset:-1px; border-radius:inherit; padding:1px;
  background:linear-gradient(135deg, color-mix(in oklab, var(--accent) 40%, transparent), transparent);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
}
.pill::after{content:""; position:absolute; inset:auto 0 0 0; height:6px; background:var(--accent)}
.pill h3{font-family:'Space Grotesk',sans-serif; margin:.2rem 0 .4rem}

/* ========= SEÇÕES ========= */
.section{padding:44px 0}
.h1{font-family:'Space Grotesk',sans-serif; font-size:clamp(26px,4.6vw,40px); margin:0 0 14px}
.h2{font-family:'Space Grotesk',sans-serif; font-size:clamp(22px,3.4vw,28px); margin:18px 0 8px}

/* ========= GRID PROJETOS (listagem) ========= */
.grid-cards{ display:grid; gap:1.4rem; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
.grid-cards .card{
  background:var(--paper);
  border:1px solid color-mix(in oklab, var(--accent) 22%, var(--line));
  border-radius:12px; overflow:hidden; position:relative;
  backdrop-filter:saturate(140%) blur(6px);
  box-shadow:0 12px 30px rgba(16,17,16,.06);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.grid-cards .card[hidden]{display:none !important}
.grid-cards .card:hover,.grid-cards .card:focus-within{transform:translateY(-4px); box-shadow:0 20px 50px rgba(0,0,0,.08); border-color:color-mix(in oklab, var(--accent) 38%, var(--line));}
.card-link{display:flex; flex-direction:column; height:100%}
.card-figure img{ width:100%; display:block; aspect-ratio:4/3; object-fit:cover }
.card-body{ padding:1rem 1.1rem; display:grid; gap:.35rem }
.card-title{ font-size:1.1rem; line-height:1.2; margin:0 0 .25rem; font-family:'Space Grotesk',sans-serif }
.card-meta{color:var(--muted); font-size:.97rem; margin:0}
.card-desc{margin:0}
.card .badge{position:absolute; top:12px; left:12px;}

/* ========= BOTÕES ========= */
.btn{
  display:inline-block; padding:10px 16px; border-radius:999px; text-decoration:none;
  border:1px solid var(--forest); color:var(--forest); background:#fff;
  transition:transform .16s ease, background .16s ease, color .16s ease, box-shadow .16s ease, border-color .16s ease;
  will-change: transform;
}
.btn:hover,.btn:focus-visible{
  transform:translateY(-2px); background:var(--forest); color:#fff; box-shadow:0 6px 14px rgba(0,0,0,.06); outline:none;
}
.btn:active{ transform:translateY(-1px) scale(.99); box-shadow:0 3px 8px rgba(0,0,0,.06) }
.btn.ghost{ border-color:var(--accent); color:var(--accent); background:transparent }
.btn.ghost:hover,.btn.ghost:focus-visible{ background:var(--accent); color:#fff }
.btn.sky{ border-color:var(--sky); color:var(--sky); background:transparent }
.btn.sky:hover,.btn.sky:focus-visible{ background:var(--sky); color:#0F1211 }

.btn.small{padding:8px 12px; font-size:.93rem}

/* ========= CONTATO/FORM ========= */
.contact{display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between; border:1px solid var(--line); border-radius:var(--radius); padding:16px; background:var(--paper)}
.cta-wrap{display:flex; gap:8px; flex-wrap:wrap}
.form{display:grid; gap:12px; border:1px solid var(--line); border-radius:var(--radius); padding:16px; background:#fff}
.field{display:grid; gap:6px}
.field input,.field textarea{ border:1px solid var(--line); border-radius:10px; padding:10px 12px; font:inherit; background:#fff}
.field input:focus,.field textarea:focus{ outline:2px solid color-mix(in oklab, var(--accent) 40%, white) }
.map-placeholder{display:grid; place-items:center; height:220px; border:1px dashed var(--line); border-radius:var(--radius); color:var(--muted); background:linear-gradient(180deg,#fafbfa,#f1f3f1)}

/* ========= FILTROS ========= */
.filters{margin:16px 0 22px; border:1px solid var(--line); border-radius:16px; padding:14px;
  background:color-mix(in oklab, var(--paper) 86%, var(--bg)); box-shadow:0 14px 36px rgba(0,0,0,.05);}
.filters-row{display:grid; grid-template-columns:1.4fr repeat(2, minmax(160px, 1fr)) minmax(120px, .6fr); gap:10px; align-items:center;}
.filters-input,.filters-select{width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--line); background:var(--paper); font:inherit;}
.filters-input::placeholder{color:color-mix(in oklab, var(--muted) 80%, transparent)}
.filters-meta{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:10px; color:var(--muted); font-size:.95rem}
.filters-badges{display:flex; flex-wrap:wrap; gap:8px; margin-top:6px}
.filters-clear{align-self:stretch; background:transparent; color:var(--accent); border-color:color-mix(in oklab, var(--accent) 60%, var(--forest));}
.filters-clear:hover,.filters-clear:focus-visible{background:color-mix(in oklab, var(--accent) 12%, var(--paper)); color:var(--forest)}

.badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; border:1px solid var(--line); background:color-mix(in oklab, var(--paper) 86%, var(--bg)); font-weight:600;}
.badge .k{color:var(--muted); text-transform:uppercase; font-size:12px; letter-spacing:.08em;}
.badge button{border:none; background:transparent; cursor:pointer; font-size:16px; line-height:1; padding:2px 4px; color:var(--muted)}
.badge button:hover{color:var(--accent)}

@media (max-width:960px){
  .filters-row{grid-template-columns:repeat(2, minmax(160px,1fr));}
  .filters{padding:12px}
}
@media (max-width:640px){
  .filters-row{grid-template-columns:1fr;}
  .filters-clear{justify-self:flex-start}
}

/* ========= PROJETO (página) ========= */
.breadcrumb{ max-width:1100px; margin:1rem auto; padding:0 1rem; opacity:.8; font-size:.9rem; }
.hero-projeto{ position:relative; max-width:1200px; margin:0 auto; }
.hero-projeto img{ width:100%; height:auto; display:block; border-radius:18px; }
.hero-caption{ position:relative; margin:.8rem 0 0; color:var(--muted) }
.bloco{ max-width:1100px; margin:2rem auto; padding:0 1rem; }
.bloco p{ margin:0 0 1rem }
.ficha-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:.75rem 1rem; }
.ficha-grid dt{ font-weight:600; opacity:.8; }
.ficha-grid dd{ margin:0; }
.grid-galeria{ display:grid; gap:1rem; grid-template-columns:repeat(12, 1fr); }
.grid-galeria figure{ grid-column: span 6; }
.grid-galeria img{ width:100%; border-radius:12px; display:block; }
@media (max-width: 700px){ .grid-galeria figure{ grid-column: span 12 } }
.btn-ghost{ display:inline-block; padding:.7rem 1rem; border-radius:10px; text-decoration:none; opacity:.9 }
.btn-ghost:hover,.btn-ghost:focus-visible{ opacity:1 }
.btn{ border:1px solid currentColor }

/* ========= RODAPÉ ========= */
.ftr{margin-top:28px; padding:18px 0; color:var(--muted); border-top:1px solid var(--line); text-align:center}

/* ========= REVEAL ========= */
.reveal{opacity:0; transform:translateY(22px)}
.reveal.in{opacity:1; transform:none; transition:opacity .6s ease, transform .6s ease}

/* ========= PRELOADER ========= */
html.preload *{transition:none !important}
.preloader{ position:fixed; inset:0; z-index:999;
  background: radial-gradient(1000px 600px at 20% 20%, rgba(93,166,255,.10), transparent 60%), radial-gradient(900px 540px at 80% 30%, rgba(196,107,65,.08), transparent 60%), #f7f8f7;
  opacity:1; transition:opacity .4s ease}
.preloader--hide{opacity:0}
body.is-loaded{opacity:1}

.sr-only{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}

/* ========= FOOTER ========= */
.ftr{margin-top:28px; padding:18px 0; color:var(--muted); border-top:1px solid var(--line); text-align:center; background:color-mix(in oklab, var(--paper) 84%, var(--bg));}

/* ========= DARK ========= */
body.dark .hdr{background:rgba(15,18,16,.92); border-color:color-mix(in oklab, var(--line) 60%, black); box-shadow:0 10px 30px rgba(0,0,0,.4)}
body.dark .hero::before{background:radial-gradient(1100px 620px at 12% 16%, rgba(93,166,255,.18), transparent 60%), radial-gradient(1000px 620px at 88% 34%, rgba(196,107,65,.18), transparent 62%), linear-gradient(180deg,#0f1210, #101412);}
body.dark .hero-body{background:rgba(20,26,23,.6); box-shadow:0 28px 80px rgba(0,0,0,.35); border-color:color-mix(in oklab, var(--accent) 20%, var(--line));}
body.dark .pill{background:color-mix(in oklab, var(--paper) 70%, black); border-color:color-mix(in oklab, var(--line) 70%, black)}
body.dark .pill::before{background:linear-gradient(135deg, color-mix(in oklab, var(--accent) 46%, transparent), transparent);}
body.dark .card{background:color-mix(in oklab, var(--paper) 78%, black)}
body.dark .page-hero{background:linear-gradient(160deg, color-mix(in oklab, var(--accent) 10%, #0b0d0c) 0%, #0f1412 70%); box-shadow:0 20px 60px rgba(0,0,0,.4);}
body.dark .mini-pill{background:color-mix(in oklab, var(--paper) 70%, black); color:var(--text)}
body.dark .filters{background:color-mix(in oklab, var(--paper) 70%, black); border-color:color-mix(in oklab, var(--line) 70%, black)}
body.dark .filters-input,body.dark .filters-select{background:color-mix(in oklab, var(--paper) 66%, black); border-color:color-mix(in oklab, var(--line) 60%, black)}
body.dark .badge{background:color-mix(in oklab, var(--paper) 70%, black); border-color:color-mix(in oklab, var(--line) 60%, black)}
body.dark .map-placeholder{background:linear-gradient(180deg,#131815,#0f1412); border-color:color-mix(in oklab, var(--line) 70%, black)}
body.dark .hdr nav a::after{background:color-mix(in oklab, var(--accent) 80%, var(--paper));}

/* ====== ANIMAÇÃO DE CARDS ====== */
.grid-cards .card{ opacity:1; transform:scale(1) translateY(0); transition:opacity .28s ease, transform .28s ease; will-change:opacity, transform }
.grid-cards .card.is-hiding{ opacity:0; transform:scale(.98) translateY(6px) }
.grid-cards .card.is-enter{ opacity:0; transform:scale(.98) translateY(6px) }
@media (prefers-reduced-motion: reduce){ .grid-cards .card{ transition:none !important } }

/* ====== ANIMAÇÃO DE GALERIA ====== */
.grid-galeria figure{ opacity:1; transform:scale(1) translateY(0); transition:opacity .28s ease, transform .28s ease; will-change:opacity, transform }
.grid-galeria figure.is-hiding{ opacity:0; transform:scale(.98) translateY(6px) }
.grid-galeria figure.is-enter{ opacity:0; transform:scale(.98) translateY(6px) }
.grid-galeria figure[hidden]{ display:none !important }
@media (prefers-reduced-motion: reduce){ .grid-galeria figure{ transition:none !important } }

/* ========= MOBILE ========= */
@media (max-width: 480px){
  .hero{ padding:44px 0 72px; }
  .ftr{ margin-top:36px; }
}